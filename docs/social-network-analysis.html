<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Week 4 Social Network Analysis | Stanford Spring 2025 Intro to Computational Social Science</title>
  <meta name="description" content="Week 4 Social Network Analysis | Stanford Spring 2025 Intro to Computational Social Science" />
  <meta name="generator" content="bookdown 0.42 and GitBook 2.6.7" />

  <meta property="og:title" content="Week 4 Social Network Analysis | Stanford Spring 2025 Intro to Computational Social Science" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Week 4 Social Network Analysis | Stanford Spring 2025 Intro to Computational Social Science" />
  
  
  

<meta name="author" content="Yuze Sui" />


<meta name="date" content="2025-03-31" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="regression-and-classification.html"/>
<link rel="next" href="collecting-data-online.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Intro_Comp_Social_Science</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About</a></li>
<li class="chapter" data-level="1" data-path="intro-to-r.html"><a href="intro-to-r.html"><i class="fa fa-check"></i><b>1</b> Intro to R</a>
<ul>
<li class="chapter" data-level="1.1" data-path="intro-to-r.html"><a href="intro-to-r.html#r-basics"><i class="fa fa-check"></i><b>1.1</b> R Basics</a></li>
<li class="chapter" data-level="1.2" data-path="intro-to-r.html"><a href="intro-to-r.html#vectors"><i class="fa fa-check"></i><b>1.2</b> Vectors</a></li>
<li class="chapter" data-level="1.3" data-path="intro-to-r.html"><a href="intro-to-r.html#loading-packages"><i class="fa fa-check"></i><b>1.3</b> Loading Packages</a></li>
<li class="chapter" data-level="1.4" data-path="intro-to-r.html"><a href="intro-to-r.html#exploring-and-visualizing-data"><i class="fa fa-check"></i><b>1.4</b> Exploring and Visualizing Data</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="surveys-and-survey-experiments-with-qualtrics.html"><a href="surveys-and-survey-experiments-with-qualtrics.html"><i class="fa fa-check"></i><b>2</b> Surveys and Survey Experiments with Qualtrics</a>
<ul>
<li class="chapter" data-level="2.1" data-path="surveys-and-survey-experiments-with-qualtrics.html"><a href="surveys-and-survey-experiments-with-qualtrics.html#overview"><i class="fa fa-check"></i><b>2.1</b> Overview</a></li>
<li class="chapter" data-level="2.2" data-path="surveys-and-survey-experiments-with-qualtrics.html"><a href="surveys-and-survey-experiments-with-qualtrics.html#creating-a-qualtrics-account"><i class="fa fa-check"></i><b>2.2</b> Creating a Qualtrics account</a></li>
<li class="chapter" data-level="2.3" data-path="surveys-and-survey-experiments-with-qualtrics.html"><a href="surveys-and-survey-experiments-with-qualtrics.html#survey-options"><i class="fa fa-check"></i><b>2.3</b> Survey options</a></li>
<li class="chapter" data-level="2.4" data-path="surveys-and-survey-experiments-with-qualtrics.html"><a href="surveys-and-survey-experiments-with-qualtrics.html#a-quick-survey-experiment"><i class="fa fa-check"></i><b>2.4</b> A quick survey experiment</a></li>
<li class="chapter" data-level="2.5" data-path="surveys-and-survey-experiments-with-qualtrics.html"><a href="surveys-and-survey-experiments-with-qualtrics.html#publish-it"><i class="fa fa-check"></i><b>2.5</b> Publish it!</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="regression-and-classification.html"><a href="regression-and-classification.html"><i class="fa fa-check"></i><b>3</b> Regression and Classification</a>
<ul>
<li class="chapter" data-level="3.1" data-path="regression-and-classification.html"><a href="regression-and-classification.html#linear-regression"><i class="fa fa-check"></i><b>3.1</b> Linear Regression</a></li>
<li class="chapter" data-level="3.2" data-path="regression-and-classification.html"><a href="regression-and-classification.html#how-linear-regression-works"><i class="fa fa-check"></i><b>3.2</b> How linear regression works</a></li>
<li class="chapter" data-level="3.3" data-path="regression-and-classification.html"><a href="regression-and-classification.html#linear-regression-using-the-lm-function"><i class="fa fa-check"></i><b>3.3</b> Linear regression using the lm function</a></li>
<li class="chapter" data-level="3.4" data-path="regression-and-classification.html"><a href="regression-and-classification.html#multiple-regression"><i class="fa fa-check"></i><b>3.4</b> Multiple Regression</a></li>
<li class="chapter" data-level="3.5" data-path="regression-and-classification.html"><a href="regression-and-classification.html#linear-regression-prediction"><i class="fa fa-check"></i><b>3.5</b> Linear Regression Prediction</a></li>
<li class="chapter" data-level="3.6" data-path="regression-and-classification.html"><a href="regression-and-classification.html#classification-logistic-regression"><i class="fa fa-check"></i><b>3.6</b> Classification (Logistic Regression)</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="social-network-analysis.html"><a href="social-network-analysis.html"><i class="fa fa-check"></i><b>4</b> Social Network Analysis</a>
<ul>
<li class="chapter" data-level="4.1" data-path="social-network-analysis.html"><a href="social-network-analysis.html#understanding-network-data-structures-in-r"><i class="fa fa-check"></i><b>4.1</b> Understanding network data structures in R</a></li>
<li class="chapter" data-level="4.2" data-path="social-network-analysis.html"><a href="social-network-analysis.html#visualizing-network-data-in-r"><i class="fa fa-check"></i><b>4.2</b> Visualizing network data in R</a></li>
<li class="chapter" data-level="4.3" data-path="social-network-analysis.html"><a href="social-network-analysis.html#key-network-measures"><i class="fa fa-check"></i><b>4.3</b> Key network measures</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="social-network-analysis.html"><a href="social-network-analysis.html#degree-how-many-friends-do-i-have"><i class="fa fa-check"></i><b>4.3.1</b> Degree (“How many friends do I have?”)</a></li>
<li class="chapter" data-level="4.3.2" data-path="social-network-analysis.html"><a href="social-network-analysis.html#weighted-degree-strength"><i class="fa fa-check"></i><b>4.3.2</b> Weighted degree (strength)</a></li>
<li class="chapter" data-level="4.3.3" data-path="social-network-analysis.html"><a href="social-network-analysis.html#global-clustering-coefficient-gcc"><i class="fa fa-check"></i><b>4.3.3</b> Global Clustering Coefficient (GCC)</a></li>
<li class="chapter" data-level="4.3.4" data-path="social-network-analysis.html"><a href="social-network-analysis.html#average-path-length-apl"><i class="fa fa-check"></i><b>4.3.4</b> Average path length (APL)</a></li>
<li class="chapter" data-level="4.3.5" data-path="social-network-analysis.html"><a href="social-network-analysis.html#assortativity"><i class="fa fa-check"></i><b>4.3.5</b> Assortativity</a></li>
<li class="chapter" data-level="4.3.6" data-path="social-network-analysis.html"><a href="social-network-analysis.html#betweenness-centrality"><i class="fa fa-check"></i><b>4.3.6</b> Betweenness centrality</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="social-network-analysis.html"><a href="social-network-analysis.html#visualizing-key-measures"><i class="fa fa-check"></i><b>4.4</b> Visualizing Key Measures</a></li>
<li class="chapter" data-level="4.5" data-path="social-network-analysis.html"><a href="social-network-analysis.html#benchmark-our-empirical-network"><i class="fa fa-check"></i><b>4.5</b> Benchmark our empirical network</a></li>
<li class="chapter" data-level="4.6" data-path="social-network-analysis.html"><a href="social-network-analysis.html#find-local-clusterscommunities"><i class="fa fa-check"></i><b>4.6</b> Find local clusters/communities</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="social-network-analysis.html"><a href="social-network-analysis.html#other-resources"><i class="fa fa-check"></i><b>4.6.1</b> Other Resources</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="collecting-data-online.html"><a href="collecting-data-online.html"><i class="fa fa-check"></i><b>5</b> Collecting Data Online</a>
<ul>
<li class="chapter" data-level="5.1" data-path="collecting-data-online.html"><a href="collecting-data-online.html#scraping-the-web"><i class="fa fa-check"></i><b>5.1</b> Scraping the web</a></li>
<li class="chapter" data-level="5.2" data-path="collecting-data-online.html"><a href="collecting-data-online.html#google-news-api"><i class="fa fa-check"></i><b>5.2</b> Google News API</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="collecting-data-online.html"><a href="collecting-data-online.html#prerequistes"><i class="fa fa-check"></i><b>5.2.1</b> Prerequistes</a></li>
<li class="chapter" data-level="5.2.2" data-path="collecting-data-online.html"><a href="collecting-data-online.html#get-started"><i class="fa fa-check"></i><b>5.2.2</b> Get started</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="text-analysis.html"><a href="text-analysis.html"><i class="fa fa-check"></i><b>6</b> Text Analysis</a>
<ul>
<li class="chapter" data-level="6.1" data-path="text-analysis.html"><a href="text-analysis.html#sentiment-analysis"><i class="fa fa-check"></i><b>6.1</b> Sentiment Analysis</a></li>
<li class="chapter" data-level="6.2" data-path="text-analysis.html"><a href="text-analysis.html#topic-modeling"><i class="fa fa-check"></i><b>6.2</b> Topic Modeling</a></li>
<li class="chapter" data-level="6.3" data-path="text-analysis.html"><a href="text-analysis.html#word-embeddings"><i class="fa fa-check"></i><b>6.3</b> Word Embeddings</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="machine-learning-supervised-learning.html"><a href="machine-learning-supervised-learning.html"><i class="fa fa-check"></i><b>7</b> Machine Learning (Supervised Learning)</a>
<ul>
<li class="chapter" data-level="7.1" data-path="machine-learning-supervised-learning.html"><a href="machine-learning-supervised-learning.html#training-vs.-test-data-why-split"><i class="fa fa-check"></i><b>7.1</b> Training vs. Test Data: Why Split?</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="machine-learning-supervised-learning.html"><a href="machine-learning-supervised-learning.html#splitting-the-gss-2018-data"><i class="fa fa-check"></i><b>7.1.1</b> Splitting the GSS 2018 Data</a></li>
<li class="chapter" data-level="7.1.2" data-path="machine-learning-supervised-learning.html"><a href="machine-learning-supervised-learning.html#linear-regression-with-training-and-test-data"><i class="fa fa-check"></i><b>7.1.2</b> Linear Regression with Training and Test Data</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="machine-learning-supervised-learning.html"><a href="machine-learning-supervised-learning.html#decision-trees-for-regression"><i class="fa fa-check"></i><b>7.2</b> Decision Trees for Regression</a></li>
<li class="chapter" data-level="7.3" data-path="machine-learning-supervised-learning.html"><a href="machine-learning-supervised-learning.html#random-forests"><i class="fa fa-check"></i><b>7.3</b> Random Forests</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="large-language-models.html"><a href="large-language-models.html"><i class="fa fa-check"></i><b>8</b> Large Language Models</a>
<ul>
<li class="chapter" data-level="8.1" data-path="large-language-models.html"><a href="large-language-models.html#tidychatmodels-package"><i class="fa fa-check"></i><b>8.1</b> tidychatmodels Package</a></li>
<li class="chapter" data-level="8.2" data-path="large-language-models.html"><a href="large-language-models.html#llm-as-synthetic-respondents-for-social-survey"><i class="fa fa-check"></i><b>8.2</b> LLM as “Synthetic Respondents” for Social Survey</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Stanford Spring 2025 Intro to Computational Social Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="social-network-analysis" class="section level1 hasAnchor" number="4">
<h1><span class="header-section-number">Week 4</span> Social Network Analysis<a href="social-network-analysis.html#social-network-analysis" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>This week our tutorial will cover social network analysis. Social network analysis focuses on patterns of relations between actors and is a key approach to study issues like homopohily and social diffusion.</p>
<div id="understanding-network-data-structures-in-r" class="section level2 hasAnchor" number="4.1">
<h2><span class="header-section-number">4.1</span> Understanding network data structures in R<a href="social-network-analysis.html#understanding-network-data-structures-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>One simple way to represent a graph is to list the edges, which we will refer to as an edge list. For each edge, we just list who that edge is incident on. Edge lists are therefore two column matrices (or dataframe in the language of R) that directly tell the computer which actors are tied for each edge. In a directed graph, the actors in column A are the sources of edges, and the actors in Column B receive the tie. In an undirected graph, order doesn’t matter.</p>
<p>Let me use a real social network data as a guiding example for the tutorial. This network is a network of scene coappearances of characters in Victor Hugo’s novel “Les Miserables.” Edge weights denote the number of such occurrences. The data source is D. E. Knuth, “The Stanford GraphBase: A Platform for Combinatorial Computing.” Addison-Wesley, Reading, MA (1993).</p>
<p>I converted the raw data format to make it easy for use in R. Let’s load the “lesmis_edges.csv” first, which is the edge list file.</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="social-network-analysis.html#cb64-1" tabindex="-1"></a>edges  <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;lesmis_edges.csv&quot;</span>)</span></code></pre></div>
<p>Let’s take a look at this dataframe using function head():</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="social-network-analysis.html#cb65-1" tabindex="-1"></a><span class="fu">head</span>(edges)</span></code></pre></div>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="social-network-analysis.html#cb66-1" tabindex="-1"></a>  source target weight</span>
<span id="cb66-2"><a href="social-network-analysis.html#cb66-2" tabindex="-1"></a><span class="dv">1</span>      <span class="dv">1</span>      <span class="dv">2</span>      <span class="dv">1</span></span>
<span id="cb66-3"><a href="social-network-analysis.html#cb66-3" tabindex="-1"></a><span class="dv">2</span>      <span class="dv">1</span>      <span class="dv">3</span>      <span class="dv">8</span></span>
<span id="cb66-4"><a href="social-network-analysis.html#cb66-4" tabindex="-1"></a><span class="dv">3</span>      <span class="dv">1</span>      <span class="dv">4</span>     <span class="dv">10</span></span>
<span id="cb66-5"><a href="social-network-analysis.html#cb66-5" tabindex="-1"></a><span class="dv">4</span>      <span class="dv">1</span>      <span class="dv">5</span>      <span class="dv">1</span></span>
<span id="cb66-6"><a href="social-network-analysis.html#cb66-6" tabindex="-1"></a><span class="dv">5</span>      <span class="dv">1</span>      <span class="dv">6</span>      <span class="dv">1</span></span>
<span id="cb66-7"><a href="social-network-analysis.html#cb66-7" tabindex="-1"></a><span class="dv">6</span>      <span class="dv">1</span>      <span class="dv">7</span>      <span class="dv">1</span></span></code></pre></div>
<p>We can see that there are three columns. The first two columns define the source and the target of the connection. The numerical values in these two columns represent different network nodes (here they represent individual characters in the novel). They do not have to be numerical IDs and we could put in actual character names instead, which is more readable but take up more storage space on our disk.</p>
<p>In the case of co-appearence, linkages are not directional. Thus, each pair of node IDs only appear once. For a directed network, each pair of nodes could appear twice (e.g., 1 – &gt; 2 vs. 2 – &gt; 1. In the first case, 1 is the sending node and in the second case, 2 is the sending node).</p>
<p>For the edgelist dataframe, we only report node pairs that have links. Thus the third column, which represents the intensity of the connection (i.e., edge weight), is never zero. The “weight” column could have varied values if the network is weighted. The Les Miserables network is weighted that weights represent the number of co-occurence. For some networks, egdes are not weighted (i.e., weight column = 1 for all rows). For such unweighted networks, we could omit the “weight” column.
Besides the edgelist data, when conducting social network analysis in R, we often have a second dataframe that stores node-level attributes (though it is not required to have this node-level dataframe to conduct network analysis in R). For the Les Miserables network, we have node-level attributes that store the actual charater names that the nodes correspond to and whether the character is a key character in the novel.</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="social-network-analysis.html#cb67-1" tabindex="-1"></a>nodes  <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;lesmis_nodes.csv&quot;</span>)</span></code></pre></div>
<p>Let’s take a look at this dataframe using function head():</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="social-network-analysis.html#cb68-1" tabindex="-1"></a><span class="fu">head</span>(nodes)</span></code></pre></div>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="social-network-analysis.html#cb69-1" tabindex="-1"></a>  id           name key_character</span>
<span id="cb69-2"><a href="social-network-analysis.html#cb69-2" tabindex="-1"></a><span class="dv">1</span>  <span class="dv">1</span>         Myriel            no</span>
<span id="cb69-3"><a href="social-network-analysis.html#cb69-3" tabindex="-1"></a><span class="dv">2</span>  <span class="dv">2</span>       Napoleon            no</span>
<span id="cb69-4"><a href="social-network-analysis.html#cb69-4" tabindex="-1"></a><span class="dv">3</span>  <span class="dv">3</span> MlleBaptistine            no</span>
<span id="cb69-5"><a href="social-network-analysis.html#cb69-5" tabindex="-1"></a><span class="dv">4</span>  <span class="dv">4</span>    MmeMagloire            no</span>
<span id="cb69-6"><a href="social-network-analysis.html#cb69-6" tabindex="-1"></a><span class="dv">5</span>  <span class="dv">5</span>   CountessDeLo            no</span>
<span id="cb69-7"><a href="social-network-analysis.html#cb69-7" tabindex="-1"></a><span class="dv">6</span>  <span class="dv">6</span>       Geborand            no</span></code></pre></div>
<p>The first column “id” corresponds to the values in the “source” and “target” columns for the edgelist dataframe. For the node dataframe, each node appears once and the columns represent their corresponding attributes.</p>
</div>
<div id="visualizing-network-data-in-r" class="section level2 hasAnchor" number="4.2">
<h2><span class="header-section-number">4.2</span> Visualizing network data in R<a href="social-network-analysis.html#visualizing-network-data-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Now with the edgelist and the node-level attributes, we are ready to construct a social network using R! Specifically, we will use the “igraph” pacakge in R. If this is your first time using it, again, remeber you need to install it first.</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="social-network-analysis.html#cb70-1" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;igraph&quot;</span>)</span></code></pre></div>
<p>Then we can activate this package:</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="social-network-analysis.html#cb71-1" tabindex="-1"></a><span class="fu">library</span>(igraph)</span></code></pre></div>
<p>Then we can construct the network using function graph_from_data_frame(). The first parameter is our edgelist dataframe. The second parameter defines whether or not the network is directed. The third defines node-level attributes:</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="social-network-analysis.html#cb72-1" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">graph_from_data_frame</span>(edges, <span class="at">directed =</span> <span class="cn">FALSE</span>, <span class="at">vertices =</span> nodes)</span></code></pre></div>
<p>We can check some quick statistics for this network.</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="social-network-analysis.html#cb73-1" tabindex="-1"></a><span class="co">#Number of nodes </span></span>
<span id="cb73-2"><a href="social-network-analysis.html#cb73-2" tabindex="-1"></a><span class="fu">vcount</span>(g)</span>
<span id="cb73-3"><a href="social-network-analysis.html#cb73-3" tabindex="-1"></a></span>
<span id="cb73-4"><a href="social-network-analysis.html#cb73-4" tabindex="-1"></a><span class="co">#Number of edges </span></span>
<span id="cb73-5"><a href="social-network-analysis.html#cb73-5" tabindex="-1"></a><span class="fu">ecount</span>(g)</span>
<span id="cb73-6"><a href="social-network-analysis.html#cb73-6" tabindex="-1"></a></span>
<span id="cb73-7"><a href="social-network-analysis.html#cb73-7" tabindex="-1"></a><span class="co">#Is directed?</span></span>
<span id="cb73-8"><a href="social-network-analysis.html#cb73-8" tabindex="-1"></a><span class="fu">is_directed</span>(g)</span>
<span id="cb73-9"><a href="social-network-analysis.html#cb73-9" tabindex="-1"></a></span>
<span id="cb73-10"><a href="social-network-analysis.html#cb73-10" tabindex="-1"></a><span class="co">#Is weighted?</span></span>
<span id="cb73-11"><a href="social-network-analysis.html#cb73-11" tabindex="-1"></a><span class="fu">is_weighted</span>(g)</span>
<span id="cb73-12"><a href="social-network-analysis.html#cb73-12" tabindex="-1"></a></span>
<span id="cb73-13"><a href="social-network-analysis.html#cb73-13" tabindex="-1"></a><span class="co">#node names</span></span>
<span id="cb73-14"><a href="social-network-analysis.html#cb73-14" tabindex="-1"></a><span class="fu">V</span>(g)<span class="sc">$</span>names</span>
<span id="cb73-15"><a href="social-network-analysis.html#cb73-15" tabindex="-1"></a></span>
<span id="cb73-16"><a href="social-network-analysis.html#cb73-16" tabindex="-1"></a><span class="co">#edge weigths</span></span>
<span id="cb73-17"><a href="social-network-analysis.html#cb73-17" tabindex="-1"></a><span class="fu">E</span>(g)<span class="sc">$</span>weight</span></code></pre></div>
<p>Let’s also quickly plot it!</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="social-network-analysis.html#cb74-1" tabindex="-1"></a><span class="fu">plot</span>(</span>
<span id="cb74-2"><a href="social-network-analysis.html#cb74-2" tabindex="-1"></a>  g,</span>
<span id="cb74-3"><a href="social-network-analysis.html#cb74-3" tabindex="-1"></a>  <span class="at">main =</span> <span class="st">&quot;Les Misérables Character Co-appearance Network&quot;</span></span>
<span id="cb74-4"><a href="social-network-analysis.html#cb74-4" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="week4_plot1.png" /></p>
<p>It looks okay but we can for sure make it prettier!</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="social-network-analysis.html#cb75-1" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">12</span>)  <span class="co"># for reproducible layout</span></span>
<span id="cb75-2"><a href="social-network-analysis.html#cb75-2" tabindex="-1"></a><span class="fu">plot</span>(</span>
<span id="cb75-3"><a href="social-network-analysis.html#cb75-3" tabindex="-1"></a>  g,</span>
<span id="cb75-4"><a href="social-network-analysis.html#cb75-4" tabindex="-1"></a>  <span class="at">layout =</span> <span class="fu">layout_with_fr</span>(g),</span>
<span id="cb75-5"><a href="social-network-analysis.html#cb75-5" tabindex="-1"></a>  <span class="at">vertex.label.cex =</span> <span class="fl">0.7</span>,</span>
<span id="cb75-6"><a href="social-network-analysis.html#cb75-6" tabindex="-1"></a>  <span class="at">vertex.size     =</span> <span class="dv">6</span>,</span>
<span id="cb75-7"><a href="social-network-analysis.html#cb75-7" tabindex="-1"></a>  <span class="at">edge.width      =</span> <span class="fl">0.5</span> <span class="sc">*</span> <span class="fu">E</span>(g)<span class="sc">$</span>weight,  <span class="co"># edge widths scale with weight</span></span>
<span id="cb75-8"><a href="social-network-analysis.html#cb75-8" tabindex="-1"></a>  <span class="at">main =</span> <span class="st">&quot;Les Misérables Character Co-appearance Network&quot;</span></span>
<span id="cb75-9"><a href="social-network-analysis.html#cb75-9" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="week4_plot2.png" /></p>
<p>Wow! Much better! So what we did? layout_with_fr() is a function that forces R to arrange the network using the so-called “Fruchterman and Reingold algorithm”. Essentially, nodes with denser connections are put closer under this algorithm. vertex.label.cex tunes the label size for the node label (character name in this case). vertex.size tunes the size for the node. edge.width adjusts for the width of the edges. There are far more parameters that you can tune! Check out <a href="https://igraph.org" class="uri">https://igraph.org</a></p>
<p>Now let’s further improve the plot! Recall we have this one additional column called “key_character” for the node dataframe. Let’s highlight the main/key characters with a different color.</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="social-network-analysis.html#cb76-1" tabindex="-1"></a><span class="fu">V</span>(g)<span class="sc">$</span>color <span class="ot">&lt;-</span> <span class="st">&quot;blue&quot;</span></span>
<span id="cb76-2"><a href="social-network-analysis.html#cb76-2" tabindex="-1"></a><span class="fu">V</span>(g)<span class="sc">$</span>color[<span class="fu">V</span>(g)<span class="sc">$</span>key_character <span class="sc">==</span> <span class="st">&quot;yes&quot;</span>] <span class="ot">&lt;-</span> <span class="st">&quot;red&quot;</span></span>
<span id="cb76-3"><a href="social-network-analysis.html#cb76-3" tabindex="-1"></a></span>
<span id="cb76-4"><a href="social-network-analysis.html#cb76-4" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">12</span>)                       <span class="co"># for reproducible layout</span></span>
<span id="cb76-5"><a href="social-network-analysis.html#cb76-5" tabindex="-1"></a><span class="fu">plot</span>(</span>
<span id="cb76-6"><a href="social-network-analysis.html#cb76-6" tabindex="-1"></a>  g,</span>
<span id="cb76-7"><a href="social-network-analysis.html#cb76-7" tabindex="-1"></a>  <span class="at">layout =</span> <span class="fu">layout_with_fr</span>(g),</span>
<span id="cb76-8"><a href="social-network-analysis.html#cb76-8" tabindex="-1"></a>  <span class="at">vertex.label.cex =</span> <span class="fl">0.7</span>,</span>
<span id="cb76-9"><a href="social-network-analysis.html#cb76-9" tabindex="-1"></a>  <span class="at">vertex.size     =</span> <span class="dv">6</span>,</span>
<span id="cb76-10"><a href="social-network-analysis.html#cb76-10" tabindex="-1"></a>  <span class="at">vertex.color=</span><span class="fu">V</span>(g)<span class="sc">$</span>color,</span>
<span id="cb76-11"><a href="social-network-analysis.html#cb76-11" tabindex="-1"></a>  <span class="at">edge.width      =</span> <span class="fl">0.5</span> <span class="sc">*</span> <span class="fu">E</span>(g)<span class="sc">$</span>weight,  <span class="co"># edge widths scale with weight</span></span>
<span id="cb76-12"><a href="social-network-analysis.html#cb76-12" tabindex="-1"></a>  <span class="at">main =</span> <span class="st">&quot;Les Misérables Character Co-appearance Network&quot;</span></span>
<span id="cb76-13"><a href="social-network-analysis.html#cb76-13" tabindex="-1"></a>)</span>
<span id="cb76-14"><a href="social-network-analysis.html#cb76-14" tabindex="-1"></a></span>
<span id="cb76-15"><a href="social-network-analysis.html#cb76-15" tabindex="-1"></a><span class="fu">legend</span>(</span>
<span id="cb76-16"><a href="social-network-analysis.html#cb76-16" tabindex="-1"></a>  <span class="st">&quot;topleft&quot;</span>,</span>
<span id="cb76-17"><a href="social-network-analysis.html#cb76-17" tabindex="-1"></a>  <span class="at">legend =</span> <span class="fu">c</span>(<span class="st">&quot;Key character&quot;</span>, <span class="st">&quot;Other character&quot;</span>),</span>
<span id="cb76-18"><a href="social-network-analysis.html#cb76-18" tabindex="-1"></a>  <span class="at">pt.bg  =</span> <span class="fu">c</span>(<span class="st">&quot;red&quot;</span>, <span class="st">&quot;blue&quot;</span>),</span>
<span id="cb76-19"><a href="social-network-analysis.html#cb76-19" tabindex="-1"></a>  <span class="at">pch    =</span> <span class="dv">21</span>,</span>
<span id="cb76-20"><a href="social-network-analysis.html#cb76-20" tabindex="-1"></a>  <span class="at">bty    =</span> <span class="st">&quot;n&quot;</span>,</span>
<span id="cb76-21"><a href="social-network-analysis.html#cb76-21" tabindex="-1"></a>  <span class="at">cex    =</span> <span class="fl">0.8</span></span>
<span id="cb76-22"><a href="social-network-analysis.html#cb76-22" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="week4_plot3.png" /></p>
<p>Main characters are indeed more central in the network!</p>
<p>Now let’s try to explore the network more to quantitatively describe its structure.</p>
</div>
<div id="key-network-measures" class="section level2 hasAnchor" number="4.3">
<h2><span class="header-section-number">4.3</span> Key network measures<a href="social-network-analysis.html#key-network-measures" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="degree-how-many-friends-do-i-have" class="section level3 hasAnchor" number="4.3.1">
<h3><span class="header-section-number">4.3.1</span> Degree (“How many friends do I have?”)<a href="social-network-analysis.html#degree-how-many-friends-do-i-have" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>For an undirected network, the degree of a node n is the count of edges incident on n. For a directed network, a node n can have in-degree (count of inflows) and out-degree (cout of outflows)</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="social-network-analysis.html#cb77-1" tabindex="-1"></a><span class="fu">degree</span>(g)                     <span class="co"># degree</span></span></code></pre></div>
<p>Let’s sort the result.</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="social-network-analysis.html#cb78-1" tabindex="-1"></a><span class="fu">sort</span>(<span class="fu">degree</span>(g))               </span></code></pre></div>
<p>Output:</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="social-network-analysis.html#cb79-1" tabindex="-1"></a>        Napoleon     CountessDeLo         Geborand     Champtercier </span>
<span id="cb79-2"><a href="social-network-analysis.html#cb79-2" tabindex="-1"></a>               <span class="dv">1</span>                <span class="dv">1</span>                <span class="dv">1</span>                <span class="dv">1</span> </span>
<span id="cb79-3"><a href="social-network-analysis.html#cb79-3" tabindex="-1"></a>        Cravatte            Count           OldMan          Labarre </span>
<span id="cb79-4"><a href="social-network-analysis.html#cb79-4" tabindex="-1"></a>               <span class="dv">1</span>                <span class="dv">1</span>                <span class="dv">1</span>                <span class="dv">1</span> </span>
<span id="cb79-5"><a href="social-network-analysis.html#cb79-5" tabindex="-1"></a>          MmeDeR          Isabeau          Gervais      Scaufflaire </span>
<span id="cb79-6"><a href="social-network-analysis.html#cb79-6" tabindex="-1"></a>               <span class="dv">1</span>                <span class="dv">1</span>                <span class="dv">1</span>                <span class="dv">1</span> </span>
<span id="cb79-7"><a href="social-network-analysis.html#cb79-7" tabindex="-1"></a>    Boulatruelle          Gribier        Jondrette      MlleVaubois </span>
<span id="cb79-8"><a href="social-network-analysis.html#cb79-8" tabindex="-1"></a>               <span class="dv">1</span>                <span class="dv">1</span>                <span class="dv">1</span>                <span class="dv">1</span> </span>
<span id="cb79-9"><a href="social-network-analysis.html#cb79-9" tabindex="-1"></a>  MotherPlutarch       Marguerite         Perpetue           Woman1 </span>
<span id="cb79-10"><a href="social-network-analysis.html#cb79-10" tabindex="-1"></a>               <span class="dv">1</span>                <span class="dv">2</span>                <span class="dv">2</span>                <span class="dv">2</span> </span>
<span id="cb79-11"><a href="social-network-analysis.html#cb79-11" tabindex="-1"></a>  MotherInnocent        MmeBurgon           Magnon     MmePontmercy </span>
<span id="cb79-12"><a href="social-network-analysis.html#cb79-12" tabindex="-1"></a>               <span class="dv">2</span>                <span class="dv">2</span>                <span class="dv">2</span>                <span class="dv">2</span> </span>
<span id="cb79-13"><a href="social-network-analysis.html#cb79-13" tabindex="-1"></a>       BaronessT           Child1           Child2   MlleBaptistine </span>
<span id="cb79-14"><a href="social-network-analysis.html#cb79-14" tabindex="-1"></a>               <span class="dv">2</span>                <span class="dv">2</span>                <span class="dv">2</span>                <span class="dv">3</span> </span>
<span id="cb79-15"><a href="social-network-analysis.html#cb79-15" tabindex="-1"></a>     MmeMagloire        Pontmercy          Anzelma           Woman2 </span>
<span id="cb79-16"><a href="social-network-analysis.html#cb79-16" tabindex="-1"></a>               <span class="dv">3</span>                <span class="dv">3</span>                <span class="dv">3</span>                <span class="dv">3</span> </span>
<span id="cb79-17"><a href="social-network-analysis.html#cb79-17" tabindex="-1"></a>       Toussaint     Fauchelevent         Simplice   LtGillenormand </span>
<span id="cb79-18"><a href="social-network-analysis.html#cb79-18" tabindex="-1"></a>               <span class="dv">3</span>                <span class="dv">4</span>                <span class="dv">4</span>                <span class="dv">4</span> </span>
<span id="cb79-19"><a href="social-network-analysis.html#cb79-19" tabindex="-1"></a>           Judge     Champmathieu           Brevet       Chenildieu </span>
<span id="cb79-20"><a href="social-network-analysis.html#cb79-20" tabindex="-1"></a>               <span class="dv">6</span>                <span class="dv">6</span>                <span class="dv">6</span>                <span class="dv">6</span> </span>
<span id="cb79-21"><a href="social-network-analysis.html#cb79-21" tabindex="-1"></a>     Cochepaille        Listolier          Fameuil      Blacheville </span>
<span id="cb79-22"><a href="social-network-analysis.html#cb79-22" tabindex="-1"></a>               <span class="dv">6</span>                <span class="dv">7</span>                <span class="dv">7</span>                <span class="dv">7</span> </span>
<span id="cb79-23"><a href="social-network-analysis.html#cb79-23" tabindex="-1"></a>       Favourite           Dahlia          Zephine     Gillenormand </span>
<span id="cb79-24"><a href="social-network-analysis.html#cb79-24" tabindex="-1"></a>               <span class="dv">7</span>                <span class="dv">7</span>                <span class="dv">7</span>                <span class="dv">7</span> </span>
<span id="cb79-25"><a href="social-network-analysis.html#cb79-25" tabindex="-1"></a>MlleGillenormand           Brujon     MmeHucheloup       Bamatabois </span>
<span id="cb79-26"><a href="social-network-analysis.html#cb79-26" tabindex="-1"></a>               <span class="dv">7</span>                <span class="dv">7</span>                <span class="dv">7</span>                <span class="dv">8</span> </span>
<span id="cb79-27"><a href="social-network-analysis.html#cb79-27" tabindex="-1"></a>       Tholomyes        Prouvaire     Montparnasse           Myriel </span>
<span id="cb79-28"><a href="social-network-analysis.html#cb79-28" tabindex="-1"></a>               <span class="dv">9</span>                <span class="dv">9</span>                <span class="dv">9</span>               <span class="dv">10</span> </span>
<span id="cb79-29"><a href="social-network-analysis.html#cb79-29" tabindex="-1"></a>       Grantaire        Gueulemer            Babet       Claquesous </span>
<span id="cb79-30"><a href="social-network-analysis.html#cb79-30" tabindex="-1"></a>              <span class="dv">10</span>               <span class="dv">10</span>               <span class="dv">10</span>               <span class="dv">10</span> </span>
<span id="cb79-31"><a href="social-network-analysis.html#cb79-31" tabindex="-1"></a>   MmeThenardier          Cosette          Eponine           Mabeuf </span>
<span id="cb79-32"><a href="social-network-analysis.html#cb79-32" tabindex="-1"></a>              <span class="dv">11</span>               <span class="dv">11</span>               <span class="dv">11</span>               <span class="dv">11</span> </span>
<span id="cb79-33"><a href="social-network-analysis.html#cb79-33" tabindex="-1"></a>      Combeferre          Feuilly          Bahorel             Joly </span>
<span id="cb79-34"><a href="social-network-analysis.html#cb79-34" tabindex="-1"></a>              <span class="dv">11</span>               <span class="dv">11</span>               <span class="dv">12</span>               <span class="dv">12</span> </span>
<span id="cb79-35"><a href="social-network-analysis.html#cb79-35" tabindex="-1"></a>      Courfeyrac          Bossuet          Fantine         Enjolras </span>
<span id="cb79-36"><a href="social-network-analysis.html#cb79-36" tabindex="-1"></a>              <span class="dv">13</span>               <span class="dv">13</span>               <span class="dv">15</span>               <span class="dv">15</span> </span>
<span id="cb79-37"><a href="social-network-analysis.html#cb79-37" tabindex="-1"></a>      Thenardier           Javert           Marius         Gavroche </span>
<span id="cb79-38"><a href="social-network-analysis.html#cb79-38" tabindex="-1"></a>              <span class="dv">16</span>               <span class="dv">17</span>               <span class="dv">19</span>               <span class="dv">22</span> </span>
<span id="cb79-39"><a href="social-network-analysis.html#cb79-39" tabindex="-1"></a>         Valjean </span>
<span id="cb79-40"><a href="social-network-analysis.html#cb79-40" tabindex="-1"></a>              <span class="dv">36</span> </span></code></pre></div>
<p>If the network is directed, we can calculate in-degree:</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="social-network-analysis.html#cb80-1" tabindex="-1"></a><span class="fu">degree</span>(g, <span class="at">mode =</span> <span class="st">&quot;in)                  </span></span></code></pre></div>
</div>
<div id="weighted-degree-strength" class="section level3 hasAnchor" number="4.3.2">
<h3><span class="header-section-number">4.3.2</span> Weighted degree (strength)<a href="social-network-analysis.html#weighted-degree-strength" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The strength of node n is the sum of edge weights.</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="social-network-analysis.html#cb81-1" tabindex="-1"></a><span class="fu">sort</span>(<span class="fu">strength</span>(g))</span></code></pre></div>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="social-network-analysis.html#cb82-1" tabindex="-1"></a>        Napoleon     CountessDeLo         Geborand     Champtercier </span>
<span id="cb82-2"><a href="social-network-analysis.html#cb82-2" tabindex="-1"></a>               <span class="dv">1</span>                <span class="dv">1</span>                <span class="dv">1</span>                <span class="dv">1</span> </span>
<span id="cb82-3"><a href="social-network-analysis.html#cb82-3" tabindex="-1"></a>        Cravatte           OldMan          Labarre           MmeDeR </span>
<span id="cb82-4"><a href="social-network-analysis.html#cb82-4" tabindex="-1"></a>               <span class="dv">1</span>                <span class="dv">1</span>                <span class="dv">1</span>                <span class="dv">1</span> </span>
<span id="cb82-5"><a href="social-network-analysis.html#cb82-5" tabindex="-1"></a>         Isabeau          Gervais      Scaufflaire     Boulatruelle </span>
<span id="cb82-6"><a href="social-network-analysis.html#cb82-6" tabindex="-1"></a>               <span class="dv">1</span>                <span class="dv">1</span>                <span class="dv">1</span>                <span class="dv">1</span> </span>
<span id="cb82-7"><a href="social-network-analysis.html#cb82-7" tabindex="-1"></a>       Jondrette      MlleVaubois            Count          Gribier </span>
<span id="cb82-8"><a href="social-network-analysis.html#cb82-8" tabindex="-1"></a>               <span class="dv">1</span>                <span class="dv">1</span>                <span class="dv">2</span>                <span class="dv">2</span> </span>
<span id="cb82-9"><a href="social-network-analysis.html#cb82-9" tabindex="-1"></a>          Magnon     MmePontmercy        BaronessT       Marguerite </span>
<span id="cb82-10"><a href="social-network-analysis.html#cb82-10" tabindex="-1"></a>               <span class="dv">2</span>                <span class="dv">2</span>                <span class="dv">2</span>                <span class="dv">3</span> </span>
<span id="cb82-11"><a href="social-network-analysis.html#cb82-11" tabindex="-1"></a>        Perpetue           Woman1        Pontmercy        MmeBurgon </span>
<span id="cb82-12"><a href="social-network-analysis.html#cb82-12" tabindex="-1"></a>               <span class="dv">3</span>                <span class="dv">3</span>                <span class="dv">3</span>                <span class="dv">3</span> </span>
<span id="cb82-13"><a href="social-network-analysis.html#cb82-13" tabindex="-1"></a>  MotherPlutarch   MotherInnocent        Toussaint          Anzelma </span>
<span id="cb82-14"><a href="social-network-analysis.html#cb82-14" tabindex="-1"></a>               <span class="dv">3</span>                <span class="dv">4</span>                <span class="dv">4</span>                <span class="dv">5</span> </span>
<span id="cb82-15"><a href="social-network-analysis.html#cb82-15" tabindex="-1"></a>          Woman2   LtGillenormand           Child1           Child2 </span>
<span id="cb82-16"><a href="social-network-analysis.html#cb82-16" tabindex="-1"></a>               <span class="dv">5</span>                <span class="dv">5</span>                <span class="dv">5</span>                <span class="dv">5</span> </span>
<span id="cb82-17"><a href="social-network-analysis.html#cb82-17" tabindex="-1"></a>    MmeHucheloup         Simplice       Bamatabois           Brevet </span>
<span id="cb82-18"><a href="social-network-analysis.html#cb82-18" tabindex="-1"></a>               <span class="dv">7</span>                <span class="dv">8</span>               <span class="dv">11</span>               <span class="dv">11</span> </span>
<span id="cb82-19"><a href="social-network-analysis.html#cb82-19" tabindex="-1"></a>      Chenildieu      Cochepaille     Montparnasse           Brujon </span>
<span id="cb82-20"><a href="social-network-analysis.html#cb82-20" tabindex="-1"></a>              <span class="dv">11</span>               <span class="dv">11</span>               <span class="dv">12</span>               <span class="dv">13</span> </span>
<span id="cb82-21"><a href="social-network-analysis.html#cb82-21" tabindex="-1"></a>    Fauchelevent            Judge     Champmathieu           Mabeuf </span>
<span id="cb82-22"><a href="social-network-analysis.html#cb82-22" tabindex="-1"></a>              <span class="dv">14</span>               <span class="dv">14</span>               <span class="dv">14</span>               <span class="dv">16</span> </span>
<span id="cb82-23"><a href="social-network-analysis.html#cb82-23" tabindex="-1"></a>       Grantaire   MlleBaptistine      MmeMagloire          Eponine </span>
<span id="cb82-24"><a href="social-network-analysis.html#cb82-24" tabindex="-1"></a>              <span class="dv">16</span>               <span class="dv">17</span>               <span class="dv">19</span>               <span class="dv">19</span> </span>
<span id="cb82-25"><a href="social-network-analysis.html#cb82-25" tabindex="-1"></a>       Prouvaire       Claquesous MlleGillenormand        Listolier </span>
<span id="cb82-26"><a href="social-network-analysis.html#cb82-26" tabindex="-1"></a>              <span class="dv">19</span>               <span class="dv">20</span>               <span class="dv">23</span>               <span class="dv">24</span> </span>
<span id="cb82-27"><a href="social-network-analysis.html#cb82-27" tabindex="-1"></a>         Fameuil          Zephine      Blacheville           Dahlia </span>
<span id="cb82-28"><a href="social-network-analysis.html#cb82-28" tabindex="-1"></a>              <span class="dv">24</span>               <span class="dv">24</span>               <span class="dv">25</span>               <span class="dv">25</span> </span>
<span id="cb82-29"><a href="social-network-analysis.html#cb82-29" tabindex="-1"></a>       Gueulemer        Tholomyes        Favourite            Babet </span>
<span id="cb82-30"><a href="social-network-analysis.html#cb82-30" tabindex="-1"></a>              <span class="dv">25</span>               <span class="dv">26</span>               <span class="dv">26</span>               <span class="dv">27</span> </span>
<span id="cb82-31"><a href="social-network-analysis.html#cb82-31" tabindex="-1"></a>    Gillenormand           Myriel    MmeThenardier          Feuilly </span>
<span id="cb82-32"><a href="social-network-analysis.html#cb82-32" tabindex="-1"></a>              <span class="dv">29</span>               <span class="dv">31</span>               <span class="dv">34</span>               <span class="dv">38</span> </span>
<span id="cb82-33"><a href="social-network-analysis.html#cb82-33" tabindex="-1"></a>         Bahorel             Joly          Fantine           Javert </span>
<span id="cb82-34"><a href="social-network-analysis.html#cb82-34" tabindex="-1"></a>              <span class="dv">39</span>               <span class="dv">43</span>               <span class="dv">47</span>               <span class="dv">47</span> </span>
<span id="cb82-35"><a href="social-network-analysis.html#cb82-35" tabindex="-1"></a>        Gavroche       Thenardier          Bossuet          Cosette </span>
<span id="cb82-36"><a href="social-network-analysis.html#cb82-36" tabindex="-1"></a>              <span class="dv">56</span>               <span class="dv">61</span>               <span class="dv">66</span>               <span class="dv">68</span> </span>
<span id="cb82-37"><a href="social-network-analysis.html#cb82-37" tabindex="-1"></a>      Combeferre       Courfeyrac         Enjolras           Marius </span>
<span id="cb82-38"><a href="social-network-analysis.html#cb82-38" tabindex="-1"></a>              <span class="dv">68</span>               <span class="dv">84</span>               <span class="dv">91</span>              <span class="dv">104</span> </span>
<span id="cb82-39"><a href="social-network-analysis.html#cb82-39" tabindex="-1"></a>         Valjean </span>
<span id="cb82-40"><a href="social-network-analysis.html#cb82-40" tabindex="-1"></a>             <span class="dv">158</span>  </span></code></pre></div>
</div>
<div id="global-clustering-coefficient-gcc" class="section level3 hasAnchor" number="4.3.3">
<h3><span class="header-section-number">4.3.3</span> Global Clustering Coefficient (GCC)<a href="social-network-analysis.html#global-clustering-coefficient-gcc" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The global clustering coefficient measures the tendency of nodes in a network to cluster together. It quantifies the overall connectivity and cohesion of the network by considering all possible triplets of nodes. In essence, it indicates how much the network resembles a collection of closely connected groups (clusters).</p>
<p><img src="week4_plot4.png" /></p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="social-network-analysis.html#cb83-1" tabindex="-1"></a><span class="fu">transitivity</span>(g, <span class="st">&quot;global&quot;</span>)</span></code></pre></div>
<p>The output:</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="social-network-analysis.html#cb84-1" tabindex="-1"></a><span class="fl">0.4989316</span></span></code></pre></div>
<p>Wow the network is very cohesive because GCC is between 0 and 1.</p>
</div>
<div id="average-path-length-apl" class="section level3 hasAnchor" number="4.3.4">
<h3><span class="header-section-number">4.3.4</span> Average path length (APL)<a href="social-network-analysis.html#average-path-length-apl" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Average Path Length (APL) is a key indicator of how interconnected a network is, with shorter APLs generally indicating a more efficient network. APL is calculated by finding the shortest path between all pairs of nodes in the network and then averaging those shortest path lengths.
###</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="social-network-analysis.html#cb85-1" tabindex="-1"></a><span class="fu">average.path.length</span>(g,<span class="at">directed =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<p>The output is:</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="social-network-analysis.html#cb86-1" tabindex="-1"></a><span class="fl">4.861244</span></span></code></pre></div>
<p>Essentially, for any two random nodes in the network, it on vargae takes 4.86 steps to reach from one node to the other node.</p>
</div>
<div id="assortativity" class="section level3 hasAnchor" number="4.3.5">
<h3><span class="header-section-number">4.3.5</span> Assortativity<a href="social-network-analysis.html#assortativity" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The assortativity coefficient is positive is similar vertices (based on some external property) tend to connect to each, and negative otherwise. Just like the concept of homophoily!</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="social-network-analysis.html#cb87-1" tabindex="-1"></a><span class="fu">assortativity</span>(g, <span class="fu">as.factor</span>(<span class="fu">V</span>(g)<span class="sc">$</span>key_character), <span class="at">directed =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<p>The output is:</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="social-network-analysis.html#cb88-1" tabindex="-1"></a><span class="sc">-</span><span class="fl">0.08629372</span></span></code></pre></div>
<p>Essentially, main characters engage with supporting characters!</p>
</div>
<div id="betweenness-centrality" class="section level3 hasAnchor" number="4.3.6">
<h3><span class="header-section-number">4.3.6</span> Betweenness centrality<a href="social-network-analysis.html#betweenness-centrality" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Betweenness centrality is a network analysis metric that measures the extent to which a node lies on shortest paths between other nodes in a network. It quantifies the importance of a node in connecting different parts of the network. A node with high betweenness centrality is often a “bridge” or “connector” between various nodes or groups of nodes in the network.</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="social-network-analysis.html#cb89-1" tabindex="-1"></a><span class="fu">sort</span>(<span class="fu">betweenness</span>(g, <span class="at">weights =</span> <span class="cn">NA</span>))</span></code></pre></div>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="social-network-analysis.html#cb90-1" tabindex="-1"></a>        Napoleon   MlleBaptistine      MmeMagloire     CountessDeLo </span>
<span id="cb90-2"><a href="social-network-analysis.html#cb90-2" tabindex="-1"></a>       <span class="fl">0.0000000</span>        <span class="fl">0.0000000</span>        <span class="fl">0.0000000</span>        <span class="fl">0.0000000</span> </span>
<span id="cb90-3"><a href="social-network-analysis.html#cb90-3" tabindex="-1"></a>        Geborand     Champtercier         Cravatte            Count </span>
<span id="cb90-4"><a href="social-network-analysis.html#cb90-4" tabindex="-1"></a>       <span class="fl">0.0000000</span>        <span class="fl">0.0000000</span>        <span class="fl">0.0000000</span>        <span class="fl">0.0000000</span> </span>
<span id="cb90-5"><a href="social-network-analysis.html#cb90-5" tabindex="-1"></a>          OldMan          Labarre       Marguerite           MmeDeR </span>
<span id="cb90-6"><a href="social-network-analysis.html#cb90-6" tabindex="-1"></a>       <span class="fl">0.0000000</span>        <span class="fl">0.0000000</span>        <span class="fl">0.0000000</span>        <span class="fl">0.0000000</span> </span>
<span id="cb90-7"><a href="social-network-analysis.html#cb90-7" tabindex="-1"></a>         Isabeau          Gervais        Listolier          Fameuil </span>
<span id="cb90-8"><a href="social-network-analysis.html#cb90-8" tabindex="-1"></a>       <span class="fl">0.0000000</span>        <span class="fl">0.0000000</span>        <span class="fl">0.0000000</span>        <span class="fl">0.0000000</span> </span>
<span id="cb90-9"><a href="social-network-analysis.html#cb90-9" tabindex="-1"></a>     Blacheville        Favourite           Dahlia          Zephine </span>
<span id="cb90-10"><a href="social-network-analysis.html#cb90-10" tabindex="-1"></a>       <span class="fl">0.0000000</span>        <span class="fl">0.0000000</span>        <span class="fl">0.0000000</span>        <span class="fl">0.0000000</span> </span>
<span id="cb90-11"><a href="social-network-analysis.html#cb90-11" tabindex="-1"></a>        Perpetue      Scaufflaire           Woman1            Judge </span>
<span id="cb90-12"><a href="social-network-analysis.html#cb90-12" tabindex="-1"></a>       <span class="fl">0.0000000</span>        <span class="fl">0.0000000</span>        <span class="fl">0.0000000</span>        <span class="fl">0.0000000</span> </span>
<span id="cb90-13"><a href="social-network-analysis.html#cb90-13" tabindex="-1"></a>    Champmathieu           Brevet       Chenildieu      Cochepaille </span>
<span id="cb90-14"><a href="social-network-analysis.html#cb90-14" tabindex="-1"></a>       <span class="fl">0.0000000</span>        <span class="fl">0.0000000</span>        <span class="fl">0.0000000</span>        <span class="fl">0.0000000</span> </span>
<span id="cb90-15"><a href="social-network-analysis.html#cb90-15" tabindex="-1"></a>    Boulatruelle          Anzelma           Woman2   MotherInnocent </span>
<span id="cb90-16"><a href="social-network-analysis.html#cb90-16" tabindex="-1"></a>       <span class="fl">0.0000000</span>        <span class="fl">0.0000000</span>        <span class="fl">0.0000000</span>        <span class="fl">0.0000000</span> </span>
<span id="cb90-17"><a href="social-network-analysis.html#cb90-17" tabindex="-1"></a>         Gribier        Jondrette      MlleVaubois   LtGillenormand </span>
<span id="cb90-18"><a href="social-network-analysis.html#cb90-18" tabindex="-1"></a>       <span class="fl">0.0000000</span>        <span class="fl">0.0000000</span>        <span class="fl">0.0000000</span>        <span class="fl">0.0000000</span> </span>
<span id="cb90-19"><a href="social-network-analysis.html#cb90-19" tabindex="-1"></a>       BaronessT        Prouvaire   MotherPlutarch        Toussaint </span>
<span id="cb90-20"><a href="social-network-analysis.html#cb90-20" tabindex="-1"></a>       <span class="fl">0.0000000</span>        <span class="fl">0.0000000</span>        <span class="fl">0.0000000</span>        <span class="fl">0.0000000</span> </span>
<span id="cb90-21"><a href="social-network-analysis.html#cb90-21" tabindex="-1"></a>          Child1           Child2     MmeHucheloup        Grantaire </span>
<span id="cb90-22"><a href="social-network-analysis.html#cb90-22" tabindex="-1"></a>       <span class="fl">0.0000000</span>        <span class="fl">0.0000000</span>        <span class="fl">0.0000000</span>        <span class="fl">0.4285714</span> </span>
<span id="cb90-23"><a href="social-network-analysis.html#cb90-23" tabindex="-1"></a>          Magnon     MmePontmercy           Brujon       Combeferre </span>
<span id="cb90-24"><a href="social-network-analysis.html#cb90-24" tabindex="-1"></a>       <span class="fl">0.6190476</span>        <span class="fl">1.0000000</span>        <span class="fl">1.2500000</span>        <span class="fl">3.5629149</span> </span>
<span id="cb90-25"><a href="social-network-analysis.html#cb90-25" tabindex="-1"></a>         Feuilly          Bahorel             Joly     Montparnasse </span>
<span id="cb90-26"><a href="social-network-analysis.html#cb90-26" tabindex="-1"></a>       <span class="fl">3.5629149</span>        <span class="fl">6.2286417</span>        <span class="fl">6.2286417</span>       <span class="fl">11.0404151</span> </span>
<span id="cb90-27"><a href="social-network-analysis.html#cb90-27" tabindex="-1"></a>      Claquesous        Gueulemer            Babet       Courfeyrac </span>
<span id="cb90-28"><a href="social-network-analysis.html#cb90-28" tabindex="-1"></a>      <span class="fl">13.8561420</span>       <span class="fl">14.1370943</span>       <span class="fl">14.1370943</span>       <span class="fl">15.0110352</span> </span>
<span id="cb90-29"><a href="social-network-analysis.html#cb90-29" tabindex="-1"></a>       Pontmercy       Bamatabois         Simplice          Eponine </span>
<span id="cb90-30"><a href="social-network-analysis.html#cb90-30" tabindex="-1"></a>      <span class="fl">19.7375000</span>       <span class="fl">22.9166667</span>       <span class="fl">24.6248408</span>       <span class="fl">32.7395194</span> </span>
<span id="cb90-31"><a href="social-network-analysis.html#cb90-31" tabindex="-1"></a>    Gillenormand          Cosette        MmeBurgon     Fauchelevent </span>
<span id="cb90-32"><a href="social-network-analysis.html#cb90-32" tabindex="-1"></a>      <span class="fl">57.6002715</span>       <span class="fl">67.8193223</span>       <span class="fl">75.0000000</span>       <span class="fl">75.5000000</span> </span>
<span id="cb90-33"><a href="social-network-analysis.html#cb90-33" tabindex="-1"></a>          Mabeuf    MmeThenardier          Bossuet        Tholomyes </span>
<span id="cb90-34"><a href="social-network-analysis.html#cb90-34" tabindex="-1"></a>      <span class="fl">78.8345238</span>       <span class="fl">82.6568934</span>       <span class="fl">87.6479030</span>      <span class="fl">115.7936423</span> </span>
<span id="cb90-35"><a href="social-network-analysis.html#cb90-35" tabindex="-1"></a>        Enjolras MlleGillenormand           Javert       Thenardier </span>
<span id="cb90-36"><a href="social-network-analysis.html#cb90-36" tabindex="-1"></a>     <span class="fl">121.2770669</span>      <span class="fl">135.6569444</span>      <span class="fl">154.8449450</span>      <span class="fl">213.4684805</span> </span>
<span id="cb90-37"><a href="social-network-analysis.html#cb90-37" tabindex="-1"></a>         Fantine           Marius         Gavroche           Myriel </span>
<span id="cb90-38"><a href="social-network-analysis.html#cb90-38" tabindex="-1"></a>     <span class="fl">369.4869418</span>      <span class="fl">376.2925926</span>      <span class="fl">470.5706319</span>      <span class="fl">504.0000000</span> </span>
<span id="cb90-39"><a href="social-network-analysis.html#cb90-39" tabindex="-1"></a>         Valjean </span>
<span id="cb90-40"><a href="social-network-analysis.html#cb90-40" tabindex="-1"></a>    <span class="fl">1624.4688004</span> </span></code></pre></div>
<p>There are many other types of centralities (eigenvector centrality, closeness centrality, degree centrality) that measure the importance of different nodes.</p>
</div>
</div>
<div id="visualizing-key-measures" class="section level2 hasAnchor" number="4.4">
<h2><span class="header-section-number">4.4</span> Visualizing Key Measures<a href="social-network-analysis.html#visualizing-key-measures" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Let’s try to visualize some of the key measures on the network plot!</p>
<p>For example, we can make node size proportional to degree:</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="social-network-analysis.html#cb91-1" tabindex="-1"></a><span class="fu">V</span>(g)<span class="sc">$</span>size <span class="ot">&lt;-</span> <span class="fu">degree</span>(g)</span>
<span id="cb91-2"><a href="social-network-analysis.html#cb91-2" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">12</span>)  <span class="co"># for reproducible layout</span></span>
<span id="cb91-3"><a href="social-network-analysis.html#cb91-3" tabindex="-1"></a><span class="fu">plot</span>(</span>
<span id="cb91-4"><a href="social-network-analysis.html#cb91-4" tabindex="-1"></a>  g,</span>
<span id="cb91-5"><a href="social-network-analysis.html#cb91-5" tabindex="-1"></a>  <span class="at">layout =</span> <span class="fu">layout_with_fr</span>(g),</span>
<span id="cb91-6"><a href="social-network-analysis.html#cb91-6" tabindex="-1"></a>  <span class="at">vertex.label.cex =</span> <span class="fl">0.7</span>,</span>
<span id="cb91-7"><a href="social-network-analysis.html#cb91-7" tabindex="-1"></a>  <span class="at">vertex.size     =</span> <span class="fu">V</span>(g)<span class="sc">$</span>size <span class="sc">/</span> <span class="dv">2</span>,</span>
<span id="cb91-8"><a href="social-network-analysis.html#cb91-8" tabindex="-1"></a>  <span class="at">edge.width      =</span> <span class="fl">0.5</span> <span class="sc">*</span> <span class="fu">E</span>(g)<span class="sc">$</span>weight,  <span class="co"># edge widths scale with weight</span></span>
<span id="cb91-9"><a href="social-network-analysis.html#cb91-9" tabindex="-1"></a>  <span class="at">main =</span> <span class="st">&quot;Les Misérables Character Co-appearance Network&quot;</span></span>
<span id="cb91-10"><a href="social-network-analysis.html#cb91-10" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="week4_degree.png" /></p>
<p>For example, we can make node size proportional to betweenness centrality measure:</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="social-network-analysis.html#cb92-1" tabindex="-1"></a><span class="fu">V</span>(g)<span class="sc">$</span>size <span class="ot">&lt;-</span> <span class="fu">betweenness</span>(g, <span class="at">weights =</span> <span class="cn">NA</span>)</span>
<span id="cb92-2"><a href="social-network-analysis.html#cb92-2" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">12</span>)  <span class="co"># for reproducible layout</span></span>
<span id="cb92-3"><a href="social-network-analysis.html#cb92-3" tabindex="-1"></a><span class="fu">plot</span>(</span>
<span id="cb92-4"><a href="social-network-analysis.html#cb92-4" tabindex="-1"></a>  g,</span>
<span id="cb92-5"><a href="social-network-analysis.html#cb92-5" tabindex="-1"></a>  <span class="at">layout =</span> <span class="fu">layout_with_fr</span>(g),</span>
<span id="cb92-6"><a href="social-network-analysis.html#cb92-6" tabindex="-1"></a>  <span class="at">vertex.label.cex =</span> <span class="fl">0.7</span>,</span>
<span id="cb92-7"><a href="social-network-analysis.html#cb92-7" tabindex="-1"></a>  <span class="at">vertex.size     =</span> <span class="fu">V</span>(g)<span class="sc">$</span>size <span class="sc">/</span> <span class="dv">100</span>,</span>
<span id="cb92-8"><a href="social-network-analysis.html#cb92-8" tabindex="-1"></a>  <span class="at">edge.width      =</span> <span class="fl">0.5</span> <span class="sc">*</span> <span class="fu">E</span>(g)<span class="sc">$</span>weight,  <span class="co"># edge widths scale with weight</span></span>
<span id="cb92-9"><a href="social-network-analysis.html#cb92-9" tabindex="-1"></a>  <span class="at">main =</span> <span class="st">&quot;Les Misérables Character Co-appearance Network&quot;</span></span>
<span id="cb92-10"><a href="social-network-analysis.html#cb92-10" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="week4_between.png" /></p>
</div>
<div id="benchmark-our-empirical-network" class="section level2 hasAnchor" number="4.5">
<h2><span class="header-section-number">4.5</span> Benchmark our empirical network<a href="social-network-analysis.html#benchmark-our-empirical-network" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>I just introduced the measure of GCC and APL. You may wonder, for our empirical network, is the GCC/APL high or low? We often need to benchmark it to a random graph to answer this question.</p>
<p>A random graph (also known as Erdős–Rényi random graph) preseves the same number of nodes and edges for an empirical network. However, the edges are randomly conencted for the random network.</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="social-network-analysis.html#cb93-1" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb93-2"><a href="social-network-analysis.html#cb93-2" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="fu">vcount</span>(g)</span>
<span id="cb93-3"><a href="social-network-analysis.html#cb93-3" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">ecount</span>(g)</span>
<span id="cb93-4"><a href="social-network-analysis.html#cb93-4" tabindex="-1"></a>g_r <span class="ot">&lt;-</span> <span class="fu">sample_gnm</span>(n, m, <span class="at">directed =</span> <span class="cn">FALSE</span>, <span class="at">loops =</span> <span class="cn">FALSE</span>)</span>
<span id="cb93-5"><a href="social-network-analysis.html#cb93-5" tabindex="-1"></a>gcc_rand <span class="ot">&lt;-</span> <span class="fu">transitivity</span>(g_r, <span class="at">type =</span> <span class="st">&quot;global&quot;</span>)</span>
<span id="cb93-6"><a href="social-network-analysis.html#cb93-6" tabindex="-1"></a>apl_rand <span class="ot">&lt;-</span> <span class="fu">average.path.length</span>(g_r, <span class="at">directed =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<p>The GCC for the random network is only 0.0745003 and the APL is 2.471634. What is the implication? The random network is less locally clustered but more globally connected!</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="social-network-analysis.html#cb94-1" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">12</span>)  <span class="co"># for reproducible layout</span></span>
<span id="cb94-2"><a href="social-network-analysis.html#cb94-2" tabindex="-1"></a><span class="fu">plot</span>(</span>
<span id="cb94-3"><a href="social-network-analysis.html#cb94-3" tabindex="-1"></a>  g_r,</span>
<span id="cb94-4"><a href="social-network-analysis.html#cb94-4" tabindex="-1"></a>  <span class="at">layout =</span> <span class="fu">layout_with_fr</span>(g_r),</span>
<span id="cb94-5"><a href="social-network-analysis.html#cb94-5" tabindex="-1"></a>  <span class="at">vertex.label =</span> <span class="cn">NA</span>,</span>
<span id="cb94-6"><a href="social-network-analysis.html#cb94-6" tabindex="-1"></a>  <span class="at">vertex.size     =</span> <span class="dv">5</span>,</span>
<span id="cb94-7"><a href="social-network-analysis.html#cb94-7" tabindex="-1"></a>  <span class="at">edge.width      =</span> <span class="dv">1</span>,  </span>
<span id="cb94-8"><a href="social-network-analysis.html#cb94-8" tabindex="-1"></a>  <span class="at">main =</span> <span class="st">&quot;Random Network&quot;</span></span>
<span id="cb94-9"><a href="social-network-analysis.html#cb94-9" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="week4_random.png" /></p>
<p>Can we have both high GCC and low APL? Yes! The small-world network!</p>
<p><img src="week4_small_world.png" /></p>
</div>
<div id="find-local-clusterscommunities" class="section level2 hasAnchor" number="4.6">
<h2><span class="header-section-number">4.6</span> Find local clusters/communities<a href="social-network-analysis.html#find-local-clusterscommunities" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>There are multiple community detection methods. louvain is a popular one and it works for weighted network.</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="social-network-analysis.html#cb95-1" tabindex="-1"></a>Community <span class="fu">detection</span> (weighted Louvain)</span>
<span id="cb95-2"><a href="social-network-analysis.html#cb95-2" tabindex="-1"></a>com <span class="ot">&lt;-</span> <span class="fu">cluster_louvain</span>(g, <span class="at">weights =</span> <span class="fu">E</span>(g)<span class="sc">$</span>weight)</span>
<span id="cb95-3"><a href="social-network-analysis.html#cb95-3" tabindex="-1"></a></span>
<span id="cb95-4"><a href="social-network-analysis.html#cb95-4" tabindex="-1"></a><span class="co"># &quot;Number of communities found&quot;</span></span>
<span id="cb95-5"><a href="social-network-analysis.html#cb95-5" tabindex="-1"></a><span class="fu">length</span>(com)</span></code></pre></div>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="social-network-analysis.html#cb96-1" tabindex="-1"></a><span class="fu">V</span>(g)<span class="sc">$</span>community <span class="ot">&lt;-</span> <span class="fu">membership</span>(com)</span>
<span id="cb96-2"><a href="social-network-analysis.html#cb96-2" tabindex="-1"></a><span class="fu">V</span>(g)<span class="sc">$</span>color <span class="ot">&lt;-</span> <span class="fu">V</span>(g)<span class="sc">$</span>community</span>
<span id="cb96-3"><a href="social-network-analysis.html#cb96-3" tabindex="-1"></a></span>
<span id="cb96-4"><a href="social-network-analysis.html#cb96-4" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">12</span>)</span>
<span id="cb96-5"><a href="social-network-analysis.html#cb96-5" tabindex="-1"></a><span class="fu">plot</span>(</span>
<span id="cb96-6"><a href="social-network-analysis.html#cb96-6" tabindex="-1"></a>  g,</span>
<span id="cb96-7"><a href="social-network-analysis.html#cb96-7" tabindex="-1"></a>  <span class="at">layout            =</span> <span class="fu">layout_with_fr</span>(g),</span>
<span id="cb96-8"><a href="social-network-analysis.html#cb96-8" tabindex="-1"></a>  <span class="at">vertex.label.cex  =</span> <span class="fl">0.7</span>,</span>
<span id="cb96-9"><a href="social-network-analysis.html#cb96-9" tabindex="-1"></a>  <span class="at">vertex.label.color=</span> <span class="st">&quot;black&quot;</span>,</span>
<span id="cb96-10"><a href="social-network-analysis.html#cb96-10" tabindex="-1"></a>  <span class="at">vertex.size     =</span> <span class="dv">5</span>,</span>
<span id="cb96-11"><a href="social-network-analysis.html#cb96-11" tabindex="-1"></a>  <span class="at">vertex.color=</span> <span class="fu">V</span>(g)<span class="sc">$</span>color,</span>
<span id="cb96-12"><a href="social-network-analysis.html#cb96-12" tabindex="-1"></a>  <span class="at">edge.width        =</span>  <span class="fl">0.5</span> <span class="sc">*</span> <span class="fu">E</span>(g)<span class="sc">$</span>weight,</span>
<span id="cb96-13"><a href="social-network-analysis.html#cb96-13" tabindex="-1"></a>  <span class="at">main =</span> <span class="st">&quot;Les Misérables – Louvain Communities&quot;</span></span>
<span id="cb96-14"><a href="social-network-analysis.html#cb96-14" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="week4_community.png" /></p>
<div id="other-resources" class="section level3 hasAnchor" number="4.6.1">
<h3><span class="header-section-number">4.6.1</span> Other Resources<a href="social-network-analysis.html#other-resources" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Social network analysis is a powerful tool and there are much more could be done to our data! Check out <a href="https://r.igraph.org/" class="uri">https://r.igraph.org/</a> for more network analysis techniques using R.</p>
<p>If you are interested in social network datasets, check out <a href="https://icon.colorado.edu/networks" class="uri">https://icon.colorado.edu/networks</a></p>
<p>Also check out this awesome interactive social network page on “Six Degrees of Francis Bacon”: <a href="http://sixdegreesoffrancisbacon.com/?ids=10000473&amp;min_confidence=60&amp;type=network" class="uri">http://sixdegreesoffrancisbacon.com/?ids=10000473&amp;min_confidence=60&amp;type=network</a></p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="regression-and-classification.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="collecting-data-online.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/yuzesui97/soc10_2025spring/edit/main/05-Social_Network_Analysis.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/yuzesui97/soc10_2025spring/blob/main/05-Social_Network_Analysis.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
